# Работа с

[![Git](https://git-scm.com/images/logo@2x.png)](https://pages.github.com/).


## Проверка наличия установленного Git
В терминале выполнить команду `git version`. 
Если Git установлен, появится сообщение с информацией о версии программы. Иначе будет сообщение об ошибке.


## Установка Git
Загружаем последнюю версию Git с [официального сайта](https://git-scm.com/downloads).


## Настройка Git
При первом использовании Git необходимо представиться. Для этого нужно ввести в терминале две команды: 
```
git config --global user.name "Ваше имя"
git config --global user.email "mail@example.com"
```


## Инициализация репозитория
```
git init
```
Эта команда создает в текущем каталоге новый подкаталог `.git`, содержащий файлы Git репозитория.


## Просмотр состояния
```
git status
```
Просмотр текущего состояния рабочего каталога Git и промежуточной области.


## Добавление файла в индекс
```
git add <filename>
```
Эта команда обновляет индекс, используя изменения в рабочем каталоге. Проще говоря готовит содержимое для последующей 
фиксации.


## Создание нового сохранения(коммита/фиксации)
```
git commit -m "commit message"
```
Создает сохранение, содержащее текущее состояние индекса и сообщение с описанием изменений.  
Эту комманду можно объединить с командой `git add <filename>`, добавив флаг `-a`, что бы получилась команда 
`git commit -am "commit message"`. В таком случае, Git перед фиксацией измнений добавит все изменения в индекс.


## Просмотр журнала коммитов
```
git log
```
Показывает история коммитов


## Просмотр изменений
```
git diff
```
Покажет текущие изменения относительно промежуточной области. Добавление параметра`--cached` покажет изменения в 
промежуточной области относительно последнего коммита.


## Переключение ветки или коммита
###### Переключение состояния рабочего каталога на версию другой ветки
```
git checkout <branch>
```

###### Переключение состояния рабочего каталога на версию другого коммита
```
git checkout <commit_hash>
```

## Игнорирование файлов

Игнорируемые файлы — это файлы, которые по какой-либо причине не должны попадать в коммиты. Как правило это артефакты сборки и файлы, генерируемые средой разработки.  
В Git нет команды для указания игнорируемых файлов. Для этой цели в корне репозитория необходимо создать файл с именем `.gitignore`.
Файл должен содержать перечень шаблонов игнорируемых файлов.

###### Пример содержимого файла `.gitignore` с пояснениями
```
*.idea  # Игнорируем все файлы с расширением .idea 
*.pyc  # Игнорируем все файлы с расширением .pyc
.coverage  # Игнорируем файл .coverage
venv/  # Игнорируем все содержимое каталога venv
.cache  # Игнорируем файл .coverage
```

В файле .gitignore разрешается использовать комментарии, что показано в примере выше.

## Работа с ветками

###### Создание ветки
```
git branch <branch_name>
```

Создает ветку с именем `branch_name`, используя текущую ветку как родительскую.

###### Список веток
```
git branch
```

Покажет список веток в локальном репозитории. При этом текущая ветка будет отмечена звездочкой.

###### Удаление ветки
```
git branch -d <branch_name>
```

Удаляет ветку из локального репозитория.

###### Слияние веток
```
git merge <branch_name>
```

При выполнении этой команды, Git вносит изменения из ветку branch_name в текущую. 
При этом вы должны находится в ветке, отличной от branch_name.  
К примеру, если вы хотите перенести изменения из ветки feature в ветку master, вы должны выполнить 
`git merge feature` находясь в ветку master. Слияние веток может привести к конфликту изменений. О них ниже.


## Конфликты и их разрешение

При слиянии изменений двух веток, Git делает попытку обединить изменения. Если изменения в обоих ветках внесены в 
разные области, то Git автоматически объединит эти изменения без участия пользователя. Однако, когда изменения 
затрагивают одну и ту же область(одни и те же строки), Git не может решить автоматически изменения из какой ветки 
применить, и просит пользователя решить эту проблему. При этом, в результате слияния будут присутствовать метки
`<<<<<<<`, `=======` и `>>>>>>>`.

Пример конфликтной области при попытке слияния:
```
Вот строки, которые либо не изменились по сравнению с общим 
предком, либо четко разрешены, потому что изменилась только одна сторона, 
либо четко разрешены, потому что обе стороны изменились одинаково. 
<<<<<<< yours:sample.txt 
Разрешение конфликтов затруднено; 
пойдем по магазинам. 
======= 
Git упрощает разрешение конфликтов. 
>>>>>>> itss:sample.txt 
А вот еще одна строка, которая чисто разрешена или не изменена.
```

Часть между `<<<<<<<` и `=======` - изменения в текущей ветке, а часть между `=======` и `>>>>>>>` - изменения, 
пришедшие из другой ветки.

Для того, что бы разрешить конфликт, необходимо из двух вариантов самостоятельно выбрать один, удалив другой. 
Так же возможно использовать некий усредненный вариант, изменив один из вариантов и удалив другой. 
Так же необходимо удалить оставшиеся метки конфликтов этой области. После разрешения всех конфликтов необходимо 
зафиксировать изменения командой `git commit -am "commit message""`.


## Работа с удаленным репозиторием

###### Клонирование удаленного репозитория
```
git clone <repository_link>
```
Клонирует удаленный репозиторий, создавая в текущем каталоге новый подкаталог `.git`, содержащий файлы Git репозитория.
При этом связывает удаленный репозиторий с локальным. С этой команды начинается работа с уже существующим, 
но новым для вас удаленным репозиторием.

###### Добавление удалённого репозитория
```
git remote add <alias> <url>
```
Связывает ваш локальный репозиторий с уже существующим удаленным. К примеру, вы создали локальный репозиторий командой 
```git init``` и написали код. После чего создали удаленный репозиторий, что бы отправить в него все наработки.
Эта команда свяжет ваш локальный репозиторий с удаленнм, что бы Git знал, куда отправлять изменения. 
Параметр alias нужен для того, что бы в последующем, для работы с удаленным репозиторием не запоминать его url.

###### Список удаленных репозиториев
```
git remote
```
Пригодится, что бы посмотреть список алиасов своих удаленных репозиториев.

###### Обновление данных об удаленном репозитории
```
git fetch <alias>
```
Загружает данные из удаленного репозитория, но не обновляет рабочее состояние локального репозитория. 
Ваши локальные изменения останутся нетронутыми, но обновятся данные об удаленном репозитории. К примеру, список веток.

###### Отправка изменений в удаленный репозиторий
```
git push <alias> <branch_name>
```

После того, как вы внесли изменения в код и зафиксировали их, ожидаемо, вы захотите поделиться ими с другими членами команды.
Для этого необходимо отправить их в удаленный репозиторий даной командой. Она отправит ветку branch_name на удаленный репозиторий,
урл которого соответствует alias(Alias урлу мы назначали на этапе добавления удаленного репозитория).

###### Получение изменений из удаленного репозитория
```
git pull <alias> <branch_name>
```
Если вы хотите получить изменения сделаные другими членами команды, то выполните команды выше. Она обновит данные в ветке
branch_name из удаленного репозитория. Смысл параметра alias аналогичен предыдещей команде. 

###### Просмотр информации об удаленном репозитории
```
git remote show <alias>
```
Если вы хотите увидеть больше информации об удаленном репозитории по его alias, воспользуйтесь этой командой.